<% layout("/layouts/biolerplate") %>
<body>
   <div id="filters">
       <div class="filter trending">
          <div><i class="fa-solid fa-fire"></i></div>
          <a href="/listings/filters/trending">Trending</a>
       </div>

       <div class="filter rooms">
        <div><i class="fa-solid fa-bed"></i></div>
        <a href="/listings/filters/rooms">Rooms</a>
       </div>

       <div class="filter iconic">
        <div><i class="fa fa-mountain-city"></i></div>
        <a href="/listings/filters/iconicCity">Iconic city</a>
       </div>

       <div class="filter mountain">
        <div><i class="fa fa-mountain"></i></div>
        <a href="/listings/filters/moutains">Moutain</a>
      </div>

     <div class="filter castles">
       <div><i class="fa-brands fa-font-awesome"></i></div>
       <a href="/listings/filters/castles">Castles</a>
    </div>

   <div class="filter amazing">
    <div><i class="fa-sharp fa-solid fa-person-swimming"></i></div>
    <a href="/listings/filters/amazing">Amazing</a>
   </div>

   <div class="filter comping">
    <div><i class="fa-solid fa-campground"></i></div>
    <a href="/listings/filters/camping">Comping</a>
   </div>

   <div class="filter fams">
     <div><i class="fa fa-light fa-cow"></i></div>
     <a href="/listings/filters/fams">Fams</a>
   </div>

    <div class="filter arctic">
       <div><i class="fa fa-light fa-snowflake"></i></div>
       <a href="/listings/filters/arctic">arctic</a>
    </div>

    <div class="filter domes">
      <div><i class="fa fa-igloo"></i></div>
      <a href="/listings/filters/domes">Domes</a>
    </div>
 
     <div class="filter boats">
        <div><i class="fa-solid fa-ship"></i></div>
        <a href="/listings/filters/boats">Boats</a>
     </div>

    <div class="tax-toggle">
      <div class="form-check-reverse form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
     </div>
  </div>

   </div>
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-1">
          <% if(allListings[0]==undefined){%>
            <div class=" offset-4">
                 <h2 >Listing not found</h2>
                 <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRrSgtP83FCiOMQTnbAH3-wlLfH8wlDOQ5bnQ&s" alt="">
            </div>
            <%}%>
        <% for(list of allListings){%>
          <a href="/listings/<%=list._id%>" class="card-listing">
            <div class="card card-listing" >
                <img src="<%=list.image.url%>" class="card-img-top" alt="listing-images" style="height:20rem;">
    
                <div class="card-body">
                  <p class="card-text">
                    <b><%=list.title%><br></b>
                    &#8377; <%=list.price.toLocaleString("en-IN")%> / night 
                    <i class="tax-info"> &nbsp;&nbsp;+18% GST</i>          
                 </p>
                 
                </div>
                <div class="card-img-overlay"></div>
              </div>
            </a>
        <% } %>
    </div>
  
      <script>
            let taxSwitch=document.getElementById("flexSwitchCheckDefault");
            let taxInfo=document.querySelectorAll(".tax-info");
                
            taxSwitch.addEventListener("click",()=>{     
        
            for(info of taxInfo){
                if(info.style.display!="inline"){
                   info.style.display="inline";
                }
                else 
                   info.style.display="none";
            }
          });
      </script> 

   

</body>
